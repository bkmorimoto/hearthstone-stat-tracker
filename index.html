<head>
  <title>Hearthstone Stat Tracker</title>
</head>

<body>
  <div class='container'>
    <h1 class='ui center aligned header'>Welcome to the Hearthstone Stats Calculator</h1>
    
    <div class='ui centered grid'>
      <div class='three wide column'>
        <h3>My Class</h3>
        {{> classNames}}
      </div>
      <div class='three wide column'>
        <h3>Opponent Class</h3>
        {{> classNames}}
      </div>
    </div>
  
    <div class='ui centered grid'>
      <div class='ui buttons results-buttons'>
        {{> win}}
        <div class='or'></div>
        {{> loss}}
      </div>
    </div>

    <div class='ui section stats-counts'>
    {{> winCount }}
    {{> lossCount }}
    {{> winPercentage }}
    </div>
    
    {{> statsTable }}

    <div class='ui section results-list'>
      {{> results}}
    </div>
  </div>
</body>

<template name="win">
  <button class="ui button positive win-button">Win</button>
</template>

<template name="loss">
  <button class="ui button negative loss-button">Loss</button>
</template>

<template name="classNames">
  <div class="ui selection fluid dropdown">
    <input type="hidden" name="class">
    <div class="default text">Class</div>
    <i class="dropdown icon"></i>
    <div class="menu">
      {{#each classNames}}
        {{> className}}
      {{/each}}
    </div>
  </div>
</template>

<template name="className">
 <div class="item" name="heroClass">{{heroClass}}</div>
</template>

<template name="results">
  <table class="ui section stats-table">
    <thead>
      <tr>
        <th class="results-head">My Class</th>
        <th class="results-head">Opp Class</th>
        <th class="results-head">Result</th>
        <th class="results-head">DateTime</th>
      </tr>
    </thead>
    <tbody>
      {{#each results}}
        {{> result}}
      {{/each}}
    </tbody>
  </table>
</template>

<template name="result">
  <tr>
    <td class="results-data">{{myClass}}</td>
    <td class="results-data">{{oppClass}}</td>
    <td class="results-data">{{result}}</td>
    <td class="results-data">{{createdAt}}</td>
  </tr>
</template>

<template name="winCount">
  <div>Wins: {{winCount}}</div>
</template>

<template name="lossCount">
  <div>Losses: {{lossCount}}</div>
</template>

<template name="winPercentage">
  <div>Win Percentage: <span style="color:{{getStatusColor}}">{{winPercentage}}%</span></div>
</template>

<template name="statsTable">
  <table class="ui section stats-table">
    <thead>
      <tr>
        <th>Class</th>
        <th>Druid</th>
        <th>Hunter</th>
        <th>Mage</th>
        <th>Paladin</th>
        <th>Priest</th>
        <th>Rogue</th>
        <th>Shaman</th>
        <th>Warlock</th>
        <th>Warrior</th>
      </tr>
    </thead>
    <tbody>
      {{#each myClassNames}}
        <tr class="tr-{{heroClass}}">
          <td>{{heroClass}}</td>
          {{#each oppClassNames}}
            <td style="background:{{getBackgroundColor ../heroClass heroClass}}">{{winPercentage ../heroClass heroClass}}</td>
          {{/each}}
        </tr>
      {{/each}}
    </tbody>
  </table>  
</template>
