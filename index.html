<head>
  <title>Hearthstone Stat Tracker</title>
</head>

<body>
  <div class='container'>
    <h1 class='ui center aligned header'>Welcome to the Hearthstone Stats Tracker</h1>

    <div class='ui centered grid'>
      <div class='three wide column'>
        <h3>My Class</h3>
        {{> classNames}}
      </div>
      <div class='three wide column'>
        <h3>Opponent Class</h3>
        {{> classNames}}
      </div>
    </div>
  
    <div class='ui centered aligned grid'>
      <div class='ui buttons center align results-buttons'>
        {{> win}}
        <div class='or'></div>
        {{> loss}}
      </div>
    </div>
    
    <div class='ui centered grid stats-counts'>
      {{> winCount }}
      {{> lossCount }}
      {{> winPercentage }}
    </div>
    
    <div class='ui centered grid'>
      <div class='thirteen wide column'>
        {{> statsTable }}
      </div>
    </div>

    <div class='ui centered grid'>
      <div class='nine wide column'>
        {{> results}}
      </div>
    </div>
  </div>
</body>

<template name="classNames">
  <div class="ui selection fluid dropdown">
    <input type="hidden" name="heroClass">
    <div class="default text">Class</div>
    <i class="dropdown icon"></i>
    <div class="menu">
      {{#each classNames}}
        {{> className}}
      {{/each}}
    </div>
  </div>
</template>

<template name="className">
 <div class="item" data-value="{{heroClass}}">{{heroClass}}</div>
</template>

<template name="win">
  <button class="ui button positive win-button">Win</button>
</template>

<template name="loss">
  <button class="ui button negative loss-button">Loss</button>
</template>

<template name="winCount">
  <div class='ui blue big label'>
    Wins
    <div class='detail'>{{winCount}}</div>
  </div>
</template>

<template name="lossCount">
  <div class='ui blue big label'>
    Losses
    <div class='detail'>{{lossCount}}</div>
  </div>
</template>

<template name="winPercentage">
  <div class='ui black big label'>
    Win Percentage
    <div class='detail'><span style="color:{{getStatusColor}}">{{winPercentage}}%</span></div>
  </div>
</template>

<template name="statsTable">
  <table class="ui blue celled structured ten column table stats-table">
    <thead>
      <tr>
        <th>Class</th>
        <th>Druid</th>
        <th>Hunter</th>
        <th>Mage</th>
        <th>Paladin</th>
        <th>Priest</th>
        <th>Rogue</th>
        <th>Shaman</th>
        <th>Warlock</th>
        <th>Warrior</th>
      </tr>
    </thead>
    <tbody>
      {{#each myClassNames}}
        <tr class="tr-heroClass">
          <th>{{heroClass}}</th>
          {{#each oppClassNames}}
            <td data-my-class="{{../heroClass}}" data-opp-class="{{heroClass}}" data-title="{{../heroClass}} vs. {{heroClass}}" data-content="more stuff" class="{{getStatus ../heroClass heroClass}}">{{winPercentage ../heroClass heroClass}}</td>
          {{/each}}
        </tr>
      {{/each}}
    </tbody>
  </table>  
</template>

<template name="results">
  <table class="ui red celled structured four column table results-table">
    <thead>
      <tr>
        <th>Class</th>
        <th>Opponent</th>
        <th>Result</th>
        <th>DateTime</th>
      </tr>
    </thead>
    <tbody>
      {{#each results}}
        {{> result}}
      {{/each}}
    </tbody>
  </table>
</template>

<template name="result">
  <tr class="{{getStatus result}}">
    <td>{{myClass}}</td>
    <td>{{oppClass}}</td>
    <td>{{result}}</td>
    <td>{{createdAt}}</td>
  </tr>
</template>
